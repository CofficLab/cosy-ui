---
import { navItems, homeLink, products } from '../app.config';
import { type ISidebarItem, AppLayout } from '@coffic/cosy-ui';
import Favicon from '@/assets/favicon.png';

interface Props {
  title: string;
  showTOC?: boolean;
  showSidebar?: boolean;
  sidebarItems?: ISidebarItem | null;
}

const {
  title,
  showTOC = true,
  showSidebar = true,
  sidebarItems = null,
} = Astro.props;
const currentLocale = Astro.currentLocale;
---

<AppLayout
  debug={false}
  metaConfig={{
    title: title,
    description: 'Cosy UI - A beautiful Astro component library',
    keywords: 'Cosy UI, Astro, component library',
    author: 'CofficLab',
    robots: 'index, follow',
    favicon: Favicon,
  }}
  footerConfig={{
    siteName: 'Cosy UI',
    homeLink: homeLink,
    slogan:
      currentLocale === 'zh-cn'
        ? '优雅、高效的 Astro 组件库'
        : 'A beautiful Astro component library',
    company: 'CofficLab',
    copyright: '© 2025 CofficLab',
    inspirationalSlogan:
      currentLocale === 'zh-cn'
        ? '构建美好的用户界面'
        : 'Build a beautiful user interface',
    socialLinks: ['https://github.com/CofficLab/cosy-ui'],
    products: products,
    aboutLink: 'https://coffic.cn/en/meta/about',
    contactLink: 'https://coffic.cn/en/meta/contact',
    termsLink: 'https://coffic.cn/en/meta/terms',
    privacyLink: 'https://coffic.cn/en/meta/privacy',
    historyLink: 'https://coffic.cn/en/meta/our-story',
    techStackLink: 'https://coffic.cn/en/meta/tech-stack',
  }}
  headerConfig={{
    logoHref: homeLink,
    navItems: navItems,
    languages: ['zh-cn', 'en'],
    navPosition: 'start',
    showThemeSwitcher: true,
  }}
  sidebarConfig={{
    sidebarItems: sidebarItems ? [sidebarItems] : [],
    debug: false,
    marginTop: '2xl',
  }}
  mainContentConfig={{
    verticalPadding: '4xl',
    isArticle: true,
    layout: 'row',
    showTableOfContents: showTOC,
  }}
  showHeader={true}
  showFooter={true}
  showSidebar={showSidebar}
>
  <slot />
</AppLayout>
