---
import { DashboardLayout } from '@coffic/cosy-ui';
import type { NavItem } from '@coffic/cosy-ui';

const navItems: NavItem[] = [
  {
    text: '仪表盘',
    href: '#',
    icon: 'dashboard',
  },
  {
    text: '设置',
    href: '#',
    icon: 'settings',
  },
  {
    text: '退出',
    href: '#',
    icon: 'logout',
  },
];
---

<DashboardLayout title="仪表盘" navItems={navItems}>
  <div class="cosy:flex cosy:flex-col cosy:gap-4">
    <h1 class="cosy:text-2xl cosy:font-bold">仪表盘</h1>
    <p>这是一个带有确认对话框的仪表盘示例。</p>
    <p>点击下方的"退出"按钮来触发确认对话框。</p>

    <button
      class="cosy:btn cosy:btn-error"
      data-confirm-dialog-target="delete-confirm">
      删除文件
    </button>
  </div>
</DashboardLayout>

<script>
  document.addEventListener('confirm-dialog-confirm', (e) => {
    const { dialogId } = (e as CustomEvent).detail;
    if (dialogId === 'dashboard-confirm') {
      alert('用户已确认退出');
    }
  });
</script>
