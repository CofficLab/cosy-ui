---
import SearchIcon from '../icons/SearchIcon.astro';
import Link from '../base/Link.astro';
import Button from '../base/Button.astro';
import Image from '../base/Image.astro';

// 自定义图片元数据接口
interface ImageMetadata {
	src: string;
	width: number;
	height: number;
	format: string;
}

interface Props {
	logo: ImageMetadata;
	languages?: Array<{ code: string; name: string }>;
	currentLocale?: string;
	navItems?: Array<{
		href: string;
		label: string;
		match: (path: string) => boolean;
	}>;
	socialLinks?: Array<{
		name: string;
		url: string;
		icon: any;
	}>;
}

const {
	logo,
	navItems = [],
} = Astro.props;

type NavItem = { href: string; label: string; match: (path: string) => boolean };
---

<header class="header">
	<div>
		<div class="flex items-center">
			<Link href="/" class="flex h-8 w-8 items-center justify-center">
				<Image src={logo} alt="logo" class="fill-current" />
			</Link>

			<!-- 桌面端导航 -->
			<div class="ml-4 hidden items-center gap-4 lg:flex">
				{navItems.map((item: NavItem) => <Link href={item.href}>{item.label}</Link>)}
			</div>
		</div>

		<div class="flex items-center gap-2">
			<Button variant="ghost" size="sm" class="p-1" onClick="my_modal_1.showModal()">
				<SearchIcon class="h-5 w-5" slot="icon-left" />
			</Button>
		</div>
	</div>
</header>