---
/**
 * @component SmartIcon
 * @description 根据关键词自动渲染最合适的图标组件，支持中英文关键词，未匹配时渲染默认图标。
 * @props {string} keyword - 关键词
 * @usage <SmartIcon keyword="用户" class="w-6 h-6" />
 */
import SocialIcon from './SocialIcon.astro';
import TwitterIcon from './TwitterIcon.astro';
import UserIcon from './UserIcon.astro';
import WarningIcon from './WarningIcon.astro';
import XCircle from './XCircle.astro';
import InfoIcon from './InfoIcon.astro';
import LinkIcon from './LinkIcon.astro';
import LinkedinIcon from './LinkedinIcon.astro';
import MenuIcon from './MenuIcon.astro';
import RefreshIcon from './RefreshIcon.astro';
import SearchIcon from './SearchIcon.astro';
import SuccessIcon from './SuccessIcon.astro';
import SunCloudyIcon from './SunCloudyIcon.astro';
import AlertTriangle from './AlertTriangle.astro';
import CalendarIcon from './CalendarIcon.astro';
import CheckCircle from './CheckCircle.astro';
import CheckIcon from './CheckIcon.astro';
import ClipboardIcon from './ClipboardIcon.astro';
import CloseIcon from './CloseIcon.astro';
import CodeIcon from './CodeIcon.astro';
import DeleteIcon from './DeleteIcon.astro';
import ErrorIcon from './ErrorIcon.astro';
import GithubIcon from './GithubIcon.astro';
import InfoCircle from './InfoCircle.astro';
import InboxArchive from './InboxArchive.astro';
import SettingsIcon from './SettingsIcon.astro';
import ChevronDownIcon from './ChevronDownIcon.astro';
import HomeIcon from './HomeIcon.astro';
import DashboardIcon from './DashboardIcon.astro';
import ChartIcon from './ChartIcon.astro';
import DocumentIcon from './DocumentIcon.astro';
import NotificationIcon from './NotificationIcon.astro';
import UsersIcon from './UsersIcon.astro';
import MessageIcon from './MessageIcon.astro';
import MailIcon from './MailIcon.astro';
import FolderIcon from './FolderIcon.astro';
import StarIcon from './StarIcon.astro';
import HeartIcon from './HeartIcon.astro';
import SaveIcon from './SaveIcon.astro';
import EditIcon from './EditIcon.astro';
import ToolsIcon from './ToolsIcon.astro';
import WalletIcon from './WalletIcon.astro';
import ReportIcon from './ReportIcon.astro';
import SecurityIcon from './SecurityIcon.astro';
import UploadIcon from './UploadIcon.astro';
import DownloadIcon from './DownloadIcon.astro';
import LogOut from './LogOut.astro';
import AppStoreIcon from './AppStoreIcon.astro';
import WebsiteIcon from './WebsiteIcon.astro';

const { keyword = '', ...rest } = Astro.props;

const zhMap: { [key: string]: any } = {
  用户: UserIcon,
  人: UserIcon,
  账号: UserIcon,
  个人: UserIcon,
  警告: WarningIcon,
  注意: WarningIcon,
  信息: InfoIcon,
  提示: InfoIcon,
  链接: LinkIcon,
  菜单: MenuIcon,
  刷新: RefreshIcon,
  搜索: SearchIcon,
  成功: SuccessIcon,
  太阳: SunCloudyIcon,
  天气: SunCloudyIcon,
  日历: CalendarIcon,
  勾: CheckIcon,
  对: CheckIcon,
  完成: CheckIcon,
  剪贴板: ClipboardIcon,
  关闭: CloseIcon,
  叉: CloseIcon,
  代码: CodeIcon,
  删除: DeleteIcon,
  错误: ErrorIcon,
  github: GithubIcon,
  设置: SettingsIcon,
  主页: HomeIcon,
  首页: HomeIcon,
  仪表盘: DashboardIcon,
  图表: ChartIcon,
  文档: DocumentIcon,
  文件: DocumentIcon,
  通知: NotificationIcon,
  群: UsersIcon,
  成员: UsersIcon,
  消息: MessageIcon,
  邮件: MailIcon,
  文件夹: FolderIcon,
  收藏: StarIcon,
  星: StarIcon,
  喜欢: HeartIcon,
  心: HeartIcon,
  保存: SaveIcon,
  编辑: EditIcon,
  工具: ToolsIcon,
  钱包: WalletIcon,
  报告: ReportIcon,
  安全: SecurityIcon,
  上传: UploadIcon,
  下载: DownloadIcon,
  退出: LogOut,
  应用: AppStoreIcon,
  网站: WebsiteIcon,
  社交: SocialIcon,
  推特: TwitterIcon,
};

const iconMap: { [key: string]: any } = {
  social: SocialIcon,
  twitter: TwitterIcon,
  user: UserIcon,
  warning: WarningIcon,
  x_circle: XCircle,
  info: InfoIcon,
  link: LinkIcon,
  linkedin: LinkedinIcon,
  menu: MenuIcon,
  refresh: RefreshIcon,
  search: SearchIcon,
  success: SuccessIcon,
  suncloudy: SunCloudyIcon,
  alerttriangle: AlertTriangle,
  calendar: CalendarIcon,
  checkcircle: CheckCircle,
  check: CheckIcon,
  clipboard: ClipboardIcon,
  close: CloseIcon,
  code: CodeIcon,
  delete: DeleteIcon,
  error: ErrorIcon,
  github: GithubIcon,
  infocircle: InfoCircle,
  inboxarchive: InboxArchive,
  settings: SettingsIcon,
  chevrondown: ChevronDownIcon,
  home: HomeIcon,
  dashboard: DashboardIcon,
  chart: ChartIcon,
  document: DocumentIcon,
  notification: NotificationIcon,
  users: UsersIcon,
  message: MessageIcon,
  mail: MailIcon,
  folder: FolderIcon,
  star: StarIcon,
  heart: HeartIcon,
  save: SaveIcon,
  edit: EditIcon,
  tools: ToolsIcon,
  wallet: WalletIcon,
  report: ReportIcon,
  security: SecurityIcon,
  upload: UploadIcon,
  download: DownloadIcon,
  logout: LogOut,
  appstore: AppStoreIcon,
  website: WebsiteIcon,
};

let IconComponent = DocumentIcon;
if (keyword) {
  for (const zh in zhMap) {
    if (keyword.includes(zh)) {
      IconComponent = zhMap[zh];
      break;
    }
  }
  if (IconComponent === DocumentIcon) {
    const lower = keyword.toLowerCase();
    if (iconMap[lower]) {
      IconComponent = iconMap[lower];
    } else {
      for (const key in iconMap) {
        if (lower.includes(key)) {
          IconComponent = iconMap[key];
          break;
        }
      }
    }
  }
}
---

<IconComponent {...rest} />
