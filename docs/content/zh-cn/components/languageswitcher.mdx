---
title: 'LanguageSwitcher'
description: '提供一个语言切换下拉菜单，用于多语言网站的语言切换功能'
folder: false
order: 11
---

import { LanguageSwitcher, CodeExample } from '@/index';

LanguageSwitcher 组件提供一个语言切换下拉菜单，支持多语言网站的语言切换功能。组件会自动处理 URL 路径，确保在切换语言时保留当前页面路径。

## 基础用法

默认情况下，组件支持中文和英文两种语言：

<CodeExample
  code={`<LanguageSwitcher />`}
>
  <LanguageSwitcher />
</CodeExample>

## 自定义语言列表

您可以通过 `languages` 属性自定义语言列表，并通过 `currentLocale` 设置当前语言：

<CodeExample
  code={`<LanguageSwitcher
  languages={['zh-cn', 'en']}
  currentLocale="en"
/>`}
>
  <LanguageSwitcher
    languages={['zh-cn', 'en']}
    currentLocale="en"
  />
</CodeExample>

## 自定义样式

您可以通过 `class` 属性为切换器添加自定义样式：

<CodeExample
  code={`<LanguageSwitcher class="cosy:border cosy:border-gray-300 cosy:rounded-md cosy:p-1" />`}
>
  <LanguageSwitcher class="cosy:border cosy:border-gray-300 cosy:rounded-md cosy:p-1" />
</CodeExample>

## 属性

| 属性名 | 类型 | 默认值 | 说明 |
| ------ | ---- | ------ | ---- |
| languages | 对象数组 | 默认中英文选项 | 语言列表，每个语言包含代码和显示名称 |
| currentLocale | string | 'zh-cn' | 当前语言的代码 |
| class | string | - | 自定义类名 |

**Language 类型：**
```typescript
interface Language {
  code: string;  // 语言代码
  name: string;  // 语言显示名称
}
```

## 工作原理

LanguageSwitcher 组件的主要工作流程：

1. 根据提供的 `languages` 数组显示可选语言
2. 显示当前选中的语言（基于 `currentLocale`）
3. 当用户选择一个新语言时：
   - 组件会分析当前 URL
   - 如果 URL 已经包含语言代码，则替换为新语言代码
   - 如果 URL 没有语言代码，则在路径前添加新语言代码
   - 跳转到新的 URL

这种设计确保了在多语言网站中切换语言时，用户可以继续浏览当前查看的页面内容，只是语言发生了变化。

## 最佳实践

- 在网站的全局布局中使用此组件，如页眉或导航栏中
- 确保您的网站路由结构支持语言前缀（如 `/zh-cn/about`、`/en/about`）
- 对于没有多语言内容的页面，可以设置重定向规则到默认语言版本 
